@using BlazorApp1.Shared.Models
@using BlazorApp1.Client.Services
@using BlazorApp1.Client.Pages.Components.Modals
@inject IAppStateService Appstate
<style>
    body {
        background-color: #C7C7C7;
    }

    .tag_container {
        display: flex;
        flex-wrap: wrap;
        align-items: center;
        border-radius: 1em;
        padding-top: 10px;
        padding-bottom: 10px;
        background-color: white;
        width: 600px;
    }

    .tag_container_add {

        color: grey;
        margin-left: auto;
        margin-right: 1em;
    }

        .tag_container_add:hover {
            cursor: pointer;
            color: #0A0E22;
            
        }

    .tag {
        display: flex;
        align-items: center;
        justify-content: space-between;
        border-top-right-radius: 2em;
        border-bottom-right-radius: 2em;
        border-top-left-radius: 0.5em;
        border-bottom-left-radius: 0.5em;
        margin-left: 20px;
        margin-bottom: 10px;
        margin-top: 10px;
        background-color: #0A0E22;
        min-width: 90px;
        height: 30px;
        box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;
    }

    /* .tag:hover {
                        background-color: #0A0E22;
                        cursor: pointer;
                    } */

    .tag_title {
        color: white;
        margin-left: 10px;
    }

    .tag_control {
        color: grey;
        margin-right: 5px;
        margin-left: 5px;
    }

        .tag_control:hover {
            cursor: pointer;
            color: white;
        }

</style>

@if (AddTagShow)
{
   <AddTagModal toggleModal="toggleTagShow" CurrentItem="CurrentItem"></AddTagModal> 
}

<div class="tag_container">
    @foreach (var tag in CurrentItem.Tags)
    {
        <div class="tag">
            <div class="tag_title">@tag.Name</div>
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
             class="bi bi-x-circle tag_control" viewBox="0 0 16 16">
                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
                <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z" />
            </svg>
        </div>

    }

    <div class="tag_container_add" @onclick="()=>{toggleTagShow();}">
        <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor"
             class="bi bi-plus-circle" viewBox="0 0 16 16">
            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z" />
            <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z" />
        </svg>
    </div>

</div>
@code {

    [Parameter]
    public Item CurrentItem { get; set; }
    private bool AddTagShow { get; set; } = false;
    private void toggleTagShow()
    {
        AddTagShow = !AddTagShow;
        StateHasChanged();
    }

}
